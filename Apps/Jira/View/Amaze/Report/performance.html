<layout name="layout"/>
<div class="admin-content container" style="min-height: 500px">
    <div class="panel panel-info">
        <div class="panel-heading">
            测试计划详情：
            <a href="http://jira.zhidaohulian.com/browse/<{$pkey}>-<{$plan.issuenum}>" target="_blank"><{$plan.summary}></a>
        </div>
        <div class="panel-body">
            <ul class="nav nav-pills" role="tablist">
                <li role="presentation" >
                    <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/capability/tp/<{$tp}>">性能测试方案</a>
                </li>
                <li role="presentation" class="active">
                    <a href="__URL__/performance/tp/<{$tp}>/status/<{$plan.issuestatus}>">性能测试报告</a>
                </li>
            </ul>
            <div class="panel panel-info">
                <div class="panel am-panel-bd">
                    <h1 class="am-lg-text-center"><{$plan.summary}><br \>性能测试报告</h1>
                        <p>
                            报告时间：YYYY-MM-DD
                            <span class="pull-right"> 测试人员：<{$plan.assignee|getJiraName=###}></span>
                        </p>
                        <p>
                            <b>最终压测结果：</b><br>
                        </p>
                        <h3 class="am-lg-text-center">并发数不超过xxx时，TPS为xxx，且响应时间不超过xxx秒。</h3>
                    <h2>一  测试内容:</h2>
                        <p>本次测试是针对xxx系统的xxx接口进行的压力测试。</p>
                    <h2>二  测试方法:</h2>
                        <p>本次采用apache的开源测试工具jmeter，采用（本地 or 云端）动态拼装请求数据并通过http协议（post or get）方式发送请求。</p>
                    <h2>三  测试目标:</h2>
                    <p>
                        1)	后台主机每秒能处理的交易笔数（TPS）<br>
                        2)	局域网环境下交易响应时间（xxx-xxx-2秒）<br>
                        3)	互联网环境下交易响应时间（2-5-8秒）<br>
                        4)	并发交易成功率99.9%<br>
                        5)	前置和核心系统各服务器CPU（80%）、内存占用率（80%）、mysql数据库；JMeter压力负载机CPU（80%）、内存占用率（80%）
                    </p>
                    <h2>四  测试环境</h2>

                    <h2>五  系统部署</h2>

                    <h2>六  性能测试结果与分析</h2>
                        <if condition="$extend_scheme0">
                            <h3>&nbsp;&nbsp;6.1 基准测试</h3>
                            <h4>&nbsp;&nbsp;6.1.1 聚合报告</h4>
                            <table class="table table-striped table-bordered table-hover table-condensed ">
                                <tr>
                                    <th width=5% align="center" bgcolor="#ccc">序号</th>
                                    <th width=9% align="center" bgcolor="#ccc">Api</th>
                                    <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                    <th width=9% align="center" bgcolor="#ccc">Average</th>
                                    <th width=9% align="center" bgcolor="#ccc">Median</th>
                                    <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                    <th width=5% align="center" bgcolor="#ccc">Min</th>
                                    <th width=9% align="center" bgcolor="#ccc">Max</th>
                                    <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                    <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                    <th width=9% align="center" bgcolor="#ccc">备注</th>
                                </tr>
                                <volist name='jiZhun' id='vo' key="k">
                                    <tr>
                                        <td><{$k}></td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                            <hr>
                        </if>

                        <if condition="$extend_scheme3">
                            <h3>&nbsp;&nbsp;6.2 极限测试</h3>
                            <h4>&nbsp;&nbsp;6.2.1 聚合报告</h4>
                            <table class="table table-striped table-bordered table-hover table-condensed ">
                                <tr>
                                    <th width=5% align="center" bgcolor="#ccc">序号</th>
                                    <th width=9% align="center" bgcolor="#ccc">Api</th>
                                    <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                    <th width=9% align="center" bgcolor="#ccc">Average</th>
                                    <th width=9% align="center" bgcolor="#ccc">Median</th>
                                    <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                    <th width=5% align="center" bgcolor="#ccc">Min</th>
                                    <th width=9% align="center" bgcolor="#ccc">Max</th>
                                    <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                    <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                    <th width=9% align="center" bgcolor="#ccc">备注</th>
                                </tr>
                                <volist name='jiXian' id='vo' key="k">
                                    <tr>
                                        <td><{$k}></td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                            <h4>&nbsp;&nbsp;6.2.2 负载机系统状态</h4>
                            <h4>&nbsp;&nbsp;6.2.3 服务器系统状态</h4>
                            <h4>&nbsp;&nbsp;6.2.4 结果分析</h4>
                            <hr>
                        </if>

                        <if condition="$extend_scheme1">
                            <h3>&nbsp;&nbsp;6.3 最优测试</h3>
                            <h4>&nbsp;&nbsp;6.3.1 聚合报告</h4>
                            <table class="table table-striped table-bordered table-hover table-condensed ">
                                <tr>
                                    <th width=5% align="center" bgcolor="#ccc">序号</th>
                                    <th width=9% align="center" bgcolor="#ccc">Api</th>
                                    <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                    <th width=9% align="center" bgcolor="#ccc">Average</th>
                                    <th width=9% align="center" bgcolor="#ccc">Median</th>
                                    <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                    <th width=5% align="center" bgcolor="#ccc">Min</th>
                                    <th width=9% align="center" bgcolor="#ccc">Max</th>
                                    <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                    <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                    <th width=9% align="center" bgcolor="#ccc">备注</th>
                                </tr>
                                <volist name='zuiYou' id='vo' key="k">
                                    <tr>
                                        <td><{$k}></td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                            <h4>&nbsp;&nbsp;6.3.2 负载机系统状态</h4>
                            <h4>&nbsp;&nbsp;6.3.3 服务器系统状态</h4>
                            <h4>&nbsp;&nbsp;6.2.4 结果分析</h4>
                            <hr>
                        </if>
                        <if condition="$extend_scheme2">
                            <h3>&nbsp;&nbsp;6.4 目标测试</h3>
                            <h4>&nbsp;&nbsp;6.4.1 聚合报告</h4>
                            <table class="table table-striped table-bordered table-hover table-condensed ">
                                <tr>
                                    <th width=5% align="center" bgcolor="#ccc">序号</th>
                                    <th width=9% align="center" bgcolor="#ccc">Api</th>
                                    <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                    <th width=9% align="center" bgcolor="#ccc">Average</th>
                                    <th width=9% align="center" bgcolor="#ccc">Median</th>
                                    <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                    <th width=5% align="center" bgcolor="#ccc">Min</th>
                                    <th width=9% align="center" bgcolor="#ccc">Max</th>
                                    <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                    <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                    <th width=9% align="center" bgcolor="#ccc">备注</th>
                                </tr>
                                <volist name='muBiao' id='vo' key="k">
                                    <tr>
                                        <td><{$k}></td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                            <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                            <h4>&nbsp;&nbsp;6.4.2 负载机系统状态</h4>
                            <h4>&nbsp;&nbsp;6.4.3 服务器系统状态</h4>
                            <h4>&nbsp;&nbsp;6.4.4 结果分析</h4>
                            <hr>
                        </if>
                        <if condition="$extend_scheme4">
                            <h3>&nbsp;&nbsp;6.5 稳定测试</h3>
                            <h4>&nbsp;&nbsp;6.5.1 聚合报告</h4>
                            <table class="table table-striped table-bordered table-hover table-condensed ">
                                <tr>
                                    <th width=5% align="center" bgcolor="#ccc">序号</th>
                                    <th width=9% align="center" bgcolor="#ccc">Api</th>
                                    <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                    <th width=9% align="center" bgcolor="#ccc">Average</th>
                                    <th width=9% align="center" bgcolor="#ccc">Median</th>
                                    <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                    <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                    <th width=5% align="center" bgcolor="#ccc">Min</th>
                                    <th width=9% align="center" bgcolor="#ccc">Max</th>
                                    <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                    <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                    <th width=9% align="center" bgcolor="#ccc">备注</th>
                                </tr>
                                <volist name='wenDing' id='vo' key="k">
                                    <tr>
                                        <td><{$k}></td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                            <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                            <h4>&nbsp;&nbsp;6.5.2 负载机系统状态</h4>
                            <h4>&nbsp;&nbsp;6.5.3 服务器系统状态</h4>
                            <h4>&nbsp;&nbsp;6.5.4 结果分析</h4>
                            <hr>
                        </if>

                    <h2>七  结果汇总分析</h2>
                        <table class="table table-striped table-bordered table-hover table-condensed ">
                            <tr>
                                <th width=5% align="center" bgcolor="#ccc">序号</th>
                                <th width=9% align="center" bgcolor="#ccc">Api</th>
                                <th width=9% align="center" bgcolor="#ccc">#Samples</th>
                                <th width=9% align="center" bgcolor="#ccc">Average</th>
                                <th width=9% align="center" bgcolor="#ccc">Median</th>
                                <th width=9% align="center" bgcolor="#ccc">90%Line</th>
                                <th width=9% align="center" bgcolor="#ccc">95%Line</th>
                                <th width=9% align="center" bgcolor="#ccc">99%Line</th>
                                <th width=5% align="center" bgcolor="#ccc">Min</th>
                                <th width=9% align="center" bgcolor="#ccc">Max</th>
                                <th width=9% align="center" bgcolor="#ccc">Error%</th>
                                <th width=9% align="center" bgcolor="#ccc">TPS</th>
                                <th width=9% align="center" bgcolor="#ccc">备注</th>
                            </tr>
                            <if condition="$extend_scheme0">
                                <volist name='jiZhun' id='vo' key="k">
                                    <tr>
                                        <td>基准</td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>
                            </if>
                            <if condition="$extend_scheme3">
                                <volist name='jiXian' id='vo' key="k">
                                    <tr>
                                        <td>极限</td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>
                                <tr>
                                    <td>极限</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </if>

                            <if condition="$extend_scheme1">
                                <volist name='zuiYou' id='vo' key="k">
                                    <tr>
                                        <td>最优</td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>
                                <tr>
                                    <td>最优</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </if>

                            <if condition="$extend_scheme2">
                                <volist name='muBiao' id='vo' key="k">
                                    <tr>
                                        <td>目标</td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>
                                <tr>
                                    <td>目标</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </if>

                            <if condition="$extend_scheme4">
                                <volist name='wenDing' id='vo' key="k">
                                    <tr>
                                        <td>稳定</td>
                                        <td>
                                            <a href="__APP__/<{$Think.config.PRODUCT}>/Plan/pressure_test/id/<{$vo.id}>" target="_blank">
                                                <{$vo.api|getName='eo_api',###,'apiuri'}>
                                            </a>
                                        </td>
                                        <td><{$vo.samples}></td>
                                        <td><{$vo.average}></td>
                                        <td><{$vo.median}></td>
                                        <td><{$vo.line90}></td>
                                        <td><{$vo.line95}></td>
                                        <td><{$vo.line99}></td>
                                        <td><{$vo.min}></td>
                                        <td><{$vo.max}></td>
                                        <td><{$vo.error}></td>
                                        <td><{$vo.tps}></td>
                                        <td><{$vo.name}></td>
                                    </tr>
                                </volist>
                                <tr>
                                    <td>稳定</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </if>

                        </table>
                        <p>压测过程中出现的错误主要有：<br></p>
                        <ol>
                            <li>&nbsp;</li>
                            <li>&nbsp;</li>
                        </ol>
                </div>
            </div>
        </div>
    </div>
</div>