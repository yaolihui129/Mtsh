<layout name="layout"/>
<!-- content start -->
<div class="admin-content container">
    <div class="am-cf am-padding">
        <div class="am-fl am-cf">
            <strong class="am-text-primary am-text-lg">
                <empty name="project">
                    <a href="__URL__/press/id/<{$arr.api}>">API压测场景</a>
                    <else />
                    <a href="__URL__/press/id/<{$arr.api}>/project/<{$project}>/scheme/<{$scheme}>">API压测场景</a>
                </empty>
            </strong>
            <small> /编辑</small>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7">
            <div class="panel-body">
                <form action="__URL__/update_pressure" method="post" class="form-horizontal" role="form">
                    <input type="hidden" name="id" value="<{$arr.id}>"/>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">并发用户数:</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" name="users" value="<{$arr.users}>"  placeholder="并发用户数">
                        </div>
                        <label  class="col-sm-3 control-label">预热时间(S):</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" name="in_seconds" value="<{$arr.in_seconds}>"  placeholder="预热时间">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">持续时间(S):</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" name="duration" value="<{$arr.duration}>" placeholder="持续时间（秒）">
                        </div>
                        <label  class="col-sm-3 control-label">延时启动(S):</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" name="startup_delay" value="<{$arr.startup_delay}>" placeholder="延时启动（秒）">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">TPM控制:</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" name="tpm" value="<{$arr.tpm}>"  placeholder="0即不做控制">
                        </div>
                        <label  class="col-sm-3 control-label">响应时间(ms):</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" name="assertion_time" value="<{$arr.assertion_time}>"  placeholder="断言_相应时间">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">加压方式:</label>
                        <div class="col-sm-4"><{$compres}> </div>
                        <label  class="col-sm-3 control-label">思考时间:</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" name="think_time" value="<{$arr.think_time}>"  placeholder="思考时间">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">交易组合:</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" name="portfolios" value="<{$arr.portfolios}>"  placeholder="交易组合">
                        </div>
                        <label  class="col-sm-3 control-label">负载生成器数量:</label>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" name="jmter_num" value="<{$arr.jmter_num}>"  placeholder="负载生成器数量">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">场景类型:</label>
                        <div class="col-sm-10"><{$press_type}></div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">场景说明</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="name" value="<{$arr.name}>"  placeholder="场景说明">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-10"></div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-5">
                            <button type="submit" class="btn btn-info btn-block ">提 交</button>
                        </div>
                        <div class="col-sm-5">
                            <empty name="project">
                                <a href="__URL__/press/id/<{$arr.api}>" class="btn btn-warning btn-block">返回列表</a>
                                <else />
                                <a href="__URL__/press/id/<{$arr.api}>/project/<{$project}>/scheme/<{$scheme}>" class="btn btn-warning btn-block">返回列表</a>
                            </empty>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-md-5">
            <ul class="list-group">
                <volist name='data' id='vo' empty="没有数据">
                    <li class="list-group-item">
                        <a href="__URL__/mod_pressure/id/<{$vo.id}>/project/<{$project}>/scheme/<{$scheme}>">
                            <small>
                                【<{$vo.press_type|getDictValue='press_type',###}>】
                                <{$vo.users}>并发
                                <switch name="vo.in_seconds">
                                    <case value="0"></case>
                                    <default />,预热<{$vo.in_seconds}>秒
                                </switch>
                                ，持续<{$vo.duration}>秒
                                <switch name="vo.tpm">
                                    <case value="0"></case>
                                    <default />,TPM<{$vo.tpm}>
                                </switch>
                            </small>

                            <span class="badge pull-right"><{$vo.author}></span>
                        </a>
                    </li>
                </volist>
            </ul>
        </div>
    </div>
</div>